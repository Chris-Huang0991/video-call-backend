# Migration `20200513105507-chat-service`

This migration has been generated by dohaicuong at 5/13/2020, 10:55:07 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "SessionType" AS ENUM ('HOST', 'GUEST');

CREATE TABLE "public"."Room" (
"id" text  NOT NULL ,"title" text  NOT NULL ,
    PRIMARY KEY ("id"))

CREATE TABLE "public"."Session" (
"id" text  NOT NULL ,"name" text  NOT NULL ,"roomId" text  NOT NULL ,"type" "SessionType" NOT NULL ,
    PRIMARY KEY ("id"))

ALTER TABLE "public"."Session" ADD FOREIGN KEY ("roomId")REFERENCES "public"."Room"("id") ON DELETE CASCADE  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200513105507-chat-service
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,27 @@
+datasource db {
+  provider = "postgresql"
+  url      = "postgresql://postgres:postgres@localhost:5432/mydb?schema=public"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+model Room {
+  id       String    @default(cuid()) @id
+  title    String
+  sessions Session[]
+}
+
+enum SessionType {
+  HOST
+  GUEST
+}
+
+model Session {
+  id     String      @default(cuid()) @id
+  name   String
+  type   SessionType
+  room   Room        @relation(fields: [roomId], references: [id])
+  roomId String
+}
```


